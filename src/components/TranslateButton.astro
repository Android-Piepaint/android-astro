---
// src/components/TranslateButton.astro
const { text, targetLang } = Astro.props;
---

<button
  onClick={async () => {
    const response = await fetch('/api/translate', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ text, targetLang })
    });
    const data = await response.json();
    if (data.result) {
      alert(`翻译结果：\n${data.result}`);
    } else {
      alert('翻译失败');
    }
  }}
>
  翻译为 {targetLang}
</button>
